<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>METEOR MADNESS - NASA Space Apps Challenge 2025</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="libs/leaflet/leaflet.css" />
</head>
<body>
    <div id="loading-screen">
        <div class="loader"></div>
        <p>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö NASA NeoWs API...</p>
    </div>

    <div id="ui-container">
        <div id="left-panel" class="panel">
            <div class="header">
                <h1>‚òÑÔ∏è METEOR MADNESS</h1>
                <p style="font-size: 12px; color: #ff6b35; margin-top: 5px;">üèÜ NASA Space Apps Challenge 2025</p>
            </div>

            <div class="section">
                <h2>üåå –í—ã–±–µ—Ä–∏—Ç–µ –∞—Å—Ç–µ—Ä–æ–∏–¥</h2>
                <select id="asteroid-select" style="width: 100%; padding: 12px; background: rgba(255,255,255,0.1); border: 1px solid #444; border-radius: 6px; color: white; font-size: 14px; cursor: pointer; margin-bottom: 10px;">
                    <option value="">–ó–∞–≥—Ä—É–∑–∫–∞ –∞—Å—Ç–µ—Ä–æ–∏–¥–æ–≤...</option>
                </select>
                <button id="load-more-asteroids" class="btn-secondary" style="display: none; margin-top: 10px;">
                    üì• –ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â—ë –∞—Å—Ç–µ—Ä–æ–∏–¥–æ–≤
                </button>
            </div>

            <div class="section" id="asteroid-info" style="display: none;">
                <h2>üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞—Å—Ç–µ—Ä–æ–∏–¥–µ</h2>
                <div id="asteroid-details"></div>
            </div>

            <div class="section">
                <h2>üìç –ú–µ—Å—Ç–æ –ø–∞–¥–µ–Ω–∏—è</h2>
                <p class="instruction">–í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Å—Ç–æ –Ω–∞ –∫–∞—Ä—Ç–µ –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:</p>
                
                <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                    <div style="flex: 1;">
                        <label style="font-size: 12px; color: #aaa;">–®–∏—Ä–æ—Ç–∞ (-90 –¥–æ 90)</label>
                        <input type="number" id="lat-input" min="-90" max="90" step="0.01" value="0" 
                               style="width: 100%; padding: 8px; background: rgba(255,255,255,0.1); border: 1px solid #444; border-radius: 4px; color: white;">
                    </div>
                    <div style="flex: 1;">
                        <label style="font-size: 12px; color: #aaa;">–î–æ–ª–≥–æ—Ç–∞ (-180 –¥–æ 180)</label>
                        <input type="number" id="lng-input" min="-180" max="180" step="0.01" value="0"
                               style="width: 100%; padding: 8px; background: rgba(255,255,255,0.1); border: 1px solid #444; border-radius: 4px; color: white;">
                    </div>
                </div>
                
                <button id="set-coordinates" class="btn-secondary" style="margin-bottom: 10px;">
                    üìç –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
                </button>
                
                <div id="coordinates">
                    <span>–®–∏—Ä–æ—Ç–∞: <strong id="lat">0¬∞</strong></span>
                    <span>–î–æ–ª–≥–æ—Ç–∞: <strong id="lng">0¬∞</strong></span>
                </div>
                <div id="map" style="height: 250px; margin-top: 10px; border-radius: 8px; overflow: hidden;"></div>
            </div>

            <div class="section">
                <button id="toggle-visualization" class="btn-visualization">
                    üî• –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø–∞–¥–µ–Ω–∏—è: –í–´–ö–õ
                </button>
                <button id="start-simulation" class="btn-primary" disabled>
                    üöÄ –ù–∞—á–∞—Ç—å —Å–∏–º—É–ª—è—Ü–∏—é
                </button>
                <button id="reset-simulation" class="btn-secondary">
                    üîÑ –°–±—Ä–æ—Å–∏—Ç—å
                </button>
            </div>

            <div class="section" id="impact-info" style="display: none;">
                <h2>‚ö†Ô∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —É–¥–∞—Ä–∞</h2>
                <div id="impact-details"></div>
            </div>

            <div class="section" id="realtime-data" style="display: none;">
                <h2>üìä –î–∞–Ω–Ω—ã–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</h2>
                <div id="realtime-content" style="background: rgba(255,255,255,0.05); padding: 12px; border-radius: 6px;">
                </div>
            </div>

            <div class="section" id="impact-consequences" style="display: none;">
                <h2>‚ò†Ô∏è –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –ø–∞–¥–µ–Ω–∏—è</h2>
                <div id="consequences-data" style="background: rgba(255,50,50,0.1); padding: 12px; border-radius: 6px; border: 2px solid rgba(255,50,50,0.3);">
                </div>
            </div>

            <div class="section" id="historical-comparison" style="display: none;">
                <h2>üìö –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è</h2>
                <div id="historical-data" style="background: rgba(100,150,255,0.1); padding: 12px; border-radius: 6px; border: 2px solid rgba(100,150,255,0.3);">
                </div>
            </div>

            <div class="section" id="planetary-defense" style="display: none;">
                <h2>üõ°Ô∏è –ü–ª–∞–Ω–µ—Ç–∞—Ä–Ω–∞—è –∑–∞—â–∏—Ç–∞</h2>
                <div id="defense-data" style="background: rgba(50,255,100,0.1); padding: 12px; border-radius: 6px; border: 2px solid rgba(50,255,100,0.3);">
                </div>
            </div>
        </div>
    </div>

    <div id="canvas-container"></div>

    <!-- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ - –∑–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–≤—ã–º–∏ -->
    <script src="libs/three/three.min.js"></script>
    <script src="libs/three/OrbitControls.js"></script>
    <script src="libs/leaflet/leaflet.js"></script>
    
    <script>
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É—Ç–µ–π –¥–ª—è –∏–∫–æ–Ω–æ–∫ Leaflet
        if (typeof L !== 'undefined') {
            L.Icon.Default.imagePath = 'libs/leaflet/';
        }
        
        window.addEventListener('DOMContentLoaded', () => {
            if (typeof L === 'undefined') {
                console.error('Leaflet –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω!');
                return;
            }
            
            window.map = L.map('map').setView([0, 0], 2);
            
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '¬© OpenStreetMap contributors',
                maxZoom: 18
            }).addTo(window.map);
            
            window.mapInitialized = true;
            
            window.map.on('click', function(e) {
                if (window.setImpactLocation) {
                    window.setImpactLocation(e.latlng.lat, e.latlng.lng);
                }
            });
        });
    </script>
    
    <!-- –ú–æ–¥—É–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è - —Å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <script src="js/config.js?v=6"></script>
    <script src="js/scene.js?v=6"></script>
    <script src="js/particles.js?v=6"></script>
    <script src="js/explosion.js?v=6"></script>
    <script src="js/nasa.js?v=6"></script>
    <script src="js/controls.js?v=6"></script>
    <script src="js/simulation.js?v=6"></script>
    <script src="js/init.js?v=6"></script>
</body>
</html>
